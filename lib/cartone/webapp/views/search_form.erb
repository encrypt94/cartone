<h1>Cartone search</h1>
<form method="get" role="form" action="/search/0">
  <div class="input-group">
    <input type="text" name="str" class="form-control">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
    </span>
  </div>
  <br/>
  <% fields.each do |key,f|%>
  <% if f['max'] <= 20 %>
     <% type = "number" %>
     <% else %>
     <% type = "range" %>
   <% end %>
   <div class="panel panel-default">
     <div class="panel-heading">
       <h3 class="panel-title"><%= key.capitalize %></h3>
     </div>
     <div class="panel-body">
       <div class="form-group">
	 <label>Min</label>
	 <input name="<%= key %>_from" type="<%= type %>" min="<%= f['min'] %>" max="<%= f['max'] %>" value="<%= f['min']%>">
       </div>
       <div class="form-group">
	 <label>Max</label>
	 <input name="<%= key %>_to" type="<%= type %>" min="<%= f['min'] %>" max="<%= f['max'] %>" value="<%= f['max']%>">
       </div>
     </div>
   </div>
<%end%>
</form>
